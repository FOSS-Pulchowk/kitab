{% extends "layout.html" %}

{% block title %}
	Book - {{ book.title }}
{% endblock %}

{% block body %}
		<p class="display-4">{{ book.title }}</p>
		<p class="lead">By {{ book.author }}</p>
<div class="row">
	<div class="col-lg-6 m-3">
	    <ul class="list-group list-group-flush">
	        <li class="list-group-item">Published Year : {{ book.year }} AD</li>
	        <li class="list-group-item">ISBN number : {{ book.isbn }}</li>
	    </ul>

	    <div class="card mt-5 p-3">
	    	<p class="card-text">Kitab rating : {{ kitab_rating }}</p>
	    	<p class="card-text">Goodreads rating : {{ goodreads_rating}}/5</p>

	    </div>
	</div>
	<div class="col-lg-5 flex-column">
		<h4 class="text-body">Submit your review</h4>
			<form method="post">
				<div class="form-group">
					<label>Rating (Out of 5)</label>
		          	<div class="input-group-prepend">
			            <select class="form-control" name="rating">
			              <option value="1">1</option>
			              <option value="2">2</option>
			              <option value="3">3</option>
			              <option value="4">4</option>
			              <option value="5">5</option>
						
			            </select>
		          	</div> 
				</div>
			
				<div class="form-group">
					<label><p class="lead">Write a book review</p></label>
					<textarea class="form-control" rows="4" name="review"></textarea>
					<button class="btn btn-dark btn-sm m-2">Submit</button>
				</div>
			</form>
	</div>
	<div class="col-lg-6 m-3">
		<!-- reviews for the book -->
		<h4 class="text-body">User Reviews</h4>
		<div class="d-flex flex-column" style="overflow-y: scroll">
			<ul class="list-group list-group-flush">
				{% for user_review in reviews %}
						<div class="card m-1 border-0">
						  <div class="card-body p-3">
						    <h6 class="card-title">{{ user_review.user_id}}</h6>
						    <li class="list-group-item">
								<p class="card-text">{{ user_review.review }}</p>
							</li>
						    <a class="card-link">Delete</a>
						    <a href="#" class="card-link">Edit</a>
						  </div>
						</div>
				{% endfor %}
			</ul>
		</div>
	</div>
</div>

<script>
var slider = document.getElementById("rating");
var output = document.getElementById("demo");
output.innerHTML = slider.value;

slider.oninput = function() {
  output.innerHTML = this.value;
}
</script>
{% endblock %}
